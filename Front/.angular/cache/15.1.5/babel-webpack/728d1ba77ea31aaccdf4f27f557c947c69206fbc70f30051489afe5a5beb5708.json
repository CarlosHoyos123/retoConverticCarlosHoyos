{"ast":null,"code":"import { LOCALE_ID } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/servicios/car.service\";\nimport * as i3 from \"src/app/servicios/auth.service\";\nimport * as i4 from \"./list-car-items/list-car-items.component\";\nimport * as i5 from \"../send-description/send-description/send-description.component\";\nexport class CartDescriptionComponent {\n  constructor(_router, _carService, _Auth, locale) {\n    this._router = _router;\n    this._carService = _carService;\n    this._Auth = _Auth;\n    this.locale = locale;\n    this.items = [];\n    this.client = 0;\n    this.subTotal = 0;\n    this.iva = 0.19;\n    this.totalItemsToBuy = 0;\n    this.invoiceDefaultState = 1;\n    this.newSellMsg = \"Formulario de confirmación de compra\";\n    this.confirmMsg = \"Confirmar compra\";\n    this.carItems = {\n      cliente: 0,\n      desde: '',\n      producto: 0,\n      talla: 0,\n      color: 0,\n      cantidad: 0\n    };\n    this.confirmInformation = {\n      invoice: {\n        fecha: '',\n        cliente: 0,\n        total: 0,\n        estado: 0,\n        dir_envio: 0,\n        dir_facturacion: 0\n      },\n      invoiceDetail: []\n    };\n  }\n  ngOnInit() {\n    let session = this._Auth.session;\n    this.client = session.client.cliente;\n    this._carService.checkClientCar(session.client.cliente).subscribe(response => {\n      this.items = response;\n      this.calculations();\n    });\n  }\n  goToHome() {\n    this._router.navigate(['Tienda/home/man']);\n  }\n  deleteItemInCar(event) {\n    this._carService.deleteItem(event).subscribe(response => {\n      alert(\"Se ha eliminado el item: \" + response.producto.producto);\n    });\n    this._carService.checkClientCar(this.client).subscribe(response => {\n      this.items = response;\n    });\n  }\n  calculations() {\n    this.totalItemsToBuy = 0;\n    this.subTotal = 0;\n    this.items.forEach(item => {\n      console.log(item);\n      this.totalItemsToBuy += item.cantidad;\n      this.subTotal += item.producto.precio * item.cantidad;\n    });\n  }\n}\nCartDescriptionComponent.ɵfac = function CartDescriptionComponent_Factory(t) {\n  return new (t || CartDescriptionComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.carServicio), i0.ɵɵdirectiveInject(i3.AuthServicio), i0.ɵɵdirectiveInject(LOCALE_ID));\n};\nCartDescriptionComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CartDescriptionComponent,\n  selectors: [[\"app-cart-description\"]],\n  decls: 60,\n  vars: 7,\n  consts: [[1, \"container\", \"text-center\"], [1, \"row\", \"align-items-center\"], [1, \"col\", \"col-sm-auto\", \"col-lg-8\"], [1, \"text-center\", \"text-uppercase\", \"fs-3\"], [1, \"table\", \"table-striped-columns\", \"table-bordered\"], [1, \"table-dark\", \"text-center\"], [\"scope\", \"col\"], [1, \"row\"], [\"data-bs-theme\", \"dark\", 1, \"col\"], [\"type\", \"button\", \"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#ConfirmSell\", 1, \"btn\", \"btn-dark\"], [1, \"col\", \"col-sm-auto\", \"col-lg-4\", \"fs-5\", \"fw-semibold\", \"border\", \"border-info\", \"rounded-4\", \"pt-2\", 2, \"background-color\", \"LightCyan\"], [1, \"col\", \"col-sm-auto\", \"col-lg-12\"], [3, \"itemsToList\", \"deleteItem\"], [\"type\", \"button\", 1, \"btn\", \"btn-dark\", 3, \"click\"], [\"id\", \"ConfirmSell\", \"tabindex\", \"-1\", \"role\", \"dialog\", \"aria-labelledby\", \"exampleModalLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [\"role\", \"document\", 1, \"modal-dialog\", \"modal-dialog-centered\", \"modal-dialog-scrollable\"], [1, \"modal-content\"], [1, \"modal-header\"], [\"id\", \"exampleModalLabel text-capitalize\", 1, \"modal-title\", \"text-capitalize\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"close\"], [\"aria-hidden\", \"true\"], [1, \"modal-body\"], [1, \"modal-footer\"], [1, \"fs-3\", \"text-center\", \"fw-semibold\"], [1, \"fw-bold\", 2, \"color\", \"MediumTurquoise\"]],\n  template: function CartDescriptionComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\")(4, \"p\", 3);\n      i0.ɵɵtext(5, \"Resumen de factura\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementContainerStart(6);\n      i0.ɵɵelementStart(7, \"table\", 4)(8, \"thead\", 5)(9, \"tr\")(10, \"th\", 6);\n      i0.ɵɵtext(11, \"Cantidad Productos\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"th\", 6);\n      i0.ɵɵtext(13, \"SubTotal\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"th\", 6);\n      i0.ɵɵtext(15, \"Iva\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"th\", 6);\n      i0.ɵɵtext(17, \"Total a pagar\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(18, \"tbody\")(19, \"tr\")(20, \"td\");\n      i0.ɵɵtext(21);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"td\");\n      i0.ɵɵtext(23);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"td\");\n      i0.ɵɵtext(25);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"td\");\n      i0.ɵɵtext(27);\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementStart(28, \"div\", 7)(29, \"div\", 8)(30, \"button\", 9);\n      i0.ɵɵtext(31);\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(32, \"div\", 10)(33, \"p\");\n      i0.ɵɵtext(34, \"Recuerda que tu pago es contra entrega, para terminar la compra haz clic en el bot\\u00F3n de la parte inferior y confirma tu informaci\\u00F3n.\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(35, \"div\", 7)(36, \"div\", 11)(37, \"div\");\n      i0.ɵɵelementContainerStart(38);\n      i0.ɵɵelementStart(39, \"app-list-car-items\", 12);\n      i0.ɵɵlistener(\"deleteItem\", function CartDescriptionComponent_Template_app_list_car_items_deleteItem_39_listener($event) {\n        return ctx.deleteItemInCar($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(40, \"div\", 7)(41, \"div\", 8)(42, \"button\", 13);\n      i0.ɵɵlistener(\"click\", function CartDescriptionComponent_Template_button_click_42_listener() {\n        return ctx.goToHome();\n      });\n      i0.ɵɵtext(43, \"Seguir comprando\");\n      i0.ɵɵelementEnd()()()()()();\n      i0.ɵɵelementStart(44, \"div\", 14)(45, \"div\", 15)(46, \"div\", 16)(47, \"div\", 17)(48, \"h5\", 18);\n      i0.ɵɵtext(49);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(50, \"button\", 19)(51, \"span\", 20);\n      i0.ɵɵtext(52, \"\\u00D7\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(53, \"div\", 21);\n      i0.ɵɵelement(54, \"app-send-description\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(55, \"div\", 22)(56, \"p\", 23);\n      i0.ɵɵtext(57, \"Convetic\");\n      i0.ɵɵelementStart(58, \"span\", 24);\n      i0.ɵɵtext(59, \"Shop\");\n      i0.ɵɵelementEnd()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(21);\n      i0.ɵɵtextInterpolate(ctx.totalItemsToBuy);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(ctx.subTotal);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(ctx.iva);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(ctx.subTotal * (1 + ctx.iva));\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate(ctx.confirmMsg);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"itemsToList\", ctx.items);\n      i0.ɵɵadvance(10);\n      i0.ɵɵtextInterpolate(ctx.newSellMsg);\n    }\n  },\n  dependencies: [i4.ListCarItemsComponent, i5.SendDescriptionComponent],\n  encapsulation: 2\n});","map":{"version":3,"mappings":"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","names":["LOCALE_ID","CartDescriptionComponent","constructor","_router","_carService","_Auth","locale","cliente","desde","producto","talla","color","cantidad","invoice","fecha","total","estado","dir_envio","dir_facturacion","invoiceDetail","ngOnInit","session","client","checkClientCar","subscribe","response","items","calculations","goToHome","navigate","deleteItemInCar","event","deleteItem","alert","totalItemsToBuy","subTotal","forEach","item","console","log","precio","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["C:\\Users\\chrod\\Documents\\Repositorios\\Front\\front\\src\\app\\modulos\\detailed\\cart-description\\cart-description.component.ts","C:\\Users\\chrod\\Documents\\Repositorios\\Front\\front\\src\\app\\modulos\\detailed\\cart-description\\cart-description.component.html"],"sourcesContent":["import { Component, OnInit, LOCALE_ID, Inject } from '@angular/core';\r\nimport { AuthServicio } from 'src/app/servicios/auth.service';\r\nimport { carServicio } from 'src/app/servicios/car.service';\r\nimport { ItemToCar } from 'src/app/interface/itemToCar';\r\nimport { CarResponse } from 'src/app/interface/carResponse';\r\nimport { SellConfirmation } from 'src/app/interface/sellConfirmation';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-cart-description',\r\n  templateUrl: './cart-description.component.html',\r\n})\r\nexport class CartDescriptionComponent implements OnInit{\r\n\r\n  items: CarResponse[]= [];\r\n  client: number=0;\r\n  subTotal:number = 0;\r\n  iva:number = 0.19;\r\n  totalItemsToBuy: number = 0;\r\n  invoiceDefaultState:number = 1;\r\n  newSellMsg: string = \"Formulario de confirmación de compra\";\r\n  confirmMsg: string = \"Confirmar compra\";\r\n  carItems: ItemToCar= {\r\n      cliente:0,\r\n      desde: '',\r\n      producto: 0,\r\n      talla: 0,\r\n      color: 0,\r\n      cantidad: 0\r\n  };\r\n  confirmInformation: SellConfirmation = {\r\n    invoice: {\r\n      fecha: '',\r\n      cliente: 0,\r\n      total: 0,\r\n      estado: 0,\r\n      dir_envio: 0,\r\n      dir_facturacion: 0\r\n    },\r\n    invoiceDetail: []\r\n  }\r\n\r\n  constructor(\r\n    private _router: Router,\r\n    private _carService: carServicio,\r\n    private _Auth: AuthServicio,\r\n    @Inject(LOCALE_ID) public locale: string\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    let session = this._Auth.session;\r\n    this.client = session.client.cliente;\r\n    this._carService.checkClientCar(session.client.cliente). \r\n    subscribe((response: CarResponse[])=>{\r\n      this.items = response;\r\n      this.calculations();\r\n    });\r\n  }\r\n\r\n  goToHome(){\r\n    this._router.navigate(['Tienda/home/man']);\r\n  }\r\n\r\n  deleteItemInCar(event: CarResponse){\r\n    this._carService.deleteItem(event). \r\n    subscribe((response: CarResponse)=>{\r\n      alert(\"Se ha eliminado el item: \"+response.producto.producto);\r\n    })\r\n    this._carService.checkClientCar(this.client). \r\n    subscribe((response: CarResponse[])=>{\r\n      this.items = response;\r\n    })\r\n  }\r\n\r\n  calculations(){\r\n    this.totalItemsToBuy = 0;\r\n    this.subTotal = 0;\r\n    this.items.forEach(item => {\r\n      console.log(item);\r\n      this.totalItemsToBuy += item.cantidad;\r\n      this.subTotal += item.producto.precio*item.cantidad;\r\n    });\r\n  }\r\n}\r\n","<div class=\"container text-center\">\r\n  <div class=\"row align-items-center\">\r\n    <div class=\"col col-sm-auto col-lg-8\">\r\n      <div><p class=\"text-center text-uppercase fs-3\">Resumen de factura</p></div>\r\n      <ng-container>\r\n        <table class=\"table table-striped-columns table-bordered\">\r\n          <thead class=\"table-dark text-center\">\r\n            <tr>\r\n              <th scope=\"col\">Cantidad Productos</th>\r\n              <th scope=\"col\">SubTotal</th>\r\n              <th scope=\"col\">Iva</th>\r\n              <th scope=\"col\">Total a pagar</th>\r\n            </tr>\r\n          <tbody>\r\n            <tr>\r\n              <td >{{totalItemsToBuy}}</td>\r\n              <td>{{subTotal}}</td>\r\n              <td>{{iva}}</td>\r\n              <td>{{subTotal*(1+iva)}}</td>      </tr>\r\n          </tbody>\r\n        </table>\r\n    </ng-container>\r\n      <div class=\"row\">\r\n        <div class=\"col\" data-bs-theme=\"dark\">\r\n          <button type=\"button\" class=\"btn btn-dark\" data-bs-toggle=\"modal\" data-bs-target=\"#ConfirmSell\">{{confirmMsg}}</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col col-sm-auto col-lg-4 fs-5 fw-semibold border border-info rounded-4 pt-2\" style=\"background-color: LightCyan;\">\r\n      <p>Recuerda que tu pago es contra entrega, para terminar la compra haz clic en el botón de la parte inferior y confirma tu información.</p>\r\n    </div>\r\n  </div>\r\n    <div class=\"row\">\r\n      <div class=\"col col-sm-auto col-lg-12\">\r\n        <div>\r\n          <ng-container>\r\n            <app-list-car-items [itemsToList] = \"items\"\r\n            (deleteItem)=\"deleteItemInCar($event)\"></app-list-car-items>\r\n          </ng-container>\r\n        </div>\r\n        <div class=\"row\">\r\n          <div class=\"col\" data-bs-theme=\"dark\">\r\n            <button type=\"button\" class=\"btn btn-dark\" (click)=\"goToHome()\">Seguir comprando</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n</div>\r\n<div class=\"modal fade\" id=\"ConfirmSell\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog modal-dialog-centered modal-dialog-scrollable\" role=\"document\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h5 class=\"modal-title text-capitalize\" id=\"exampleModalLabel text-capitalize\">{{newSellMsg}}</h5>\r\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n          <span aria-hidden=\"true\">&times;</span>\r\n        </button>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n        <app-send-description></app-send-description>\r\n      </div> \r\n      <div class=\"modal-footer\">\r\n        <p class=\"fs-3 text-center fw-semibold\">Convetic<span class=\"fw-bold\" style=\"color: MediumTurquoise;\">Shop</span></p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}